node { 
   
        def jenkins_libs_git_url = 'https://github.com/Luis-atos/libs.git'
        stage ("Git Checkout"){ 
            script {
                    checkout([
                        $class: 'GitSCM',
                        branches: [[name: "ejemplo"]],
                        doGenerateSubmoduleConfigurations: false,
                       // extensions: [[
                       //     $class: 'RelativeTargetDirectory',
                       //     relativeTargetDir: "C:/ProgramData/Jenkins/.jenkins/workspace/luis"
                       // ]],
                        submoduleCfg: [],
                        userRemoteConfigs: [[
                            credentialsId: '',
                            url: 'https://github.com/Luis-atos/ejemplo-shared-library2.git'
                        ]]
                    ])
                
                }
        } 
        stage ("Git librerias"){
         fileLoader.withGit(jenkins_libs_git_url, 'rama1', 'null','') {
		scm = fileLoader.load('libreria.groovy');
        }
	
   
      }
}
